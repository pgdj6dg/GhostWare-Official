local ALLOW={"https://raw.githubusercontent.com/pgdj6dg/"}
local RAW="https://raw.githubusercontent.com/pgdj6dg/GhostWare-Official/refs/heads/main/GhostWare%20University%20Scripts"

local function allowed(u) for _,p in ipairs(ALLOW) do if u:sub(1,#p)==p then return true end end return false end
local function httpget(u)
  local ok,res=pcall(function() return game:HttpGet(u) end)
  if ok and type(res)=="string" and #res>0 then return res end
  if request then local r=request({Url=u,Method="GET"}); if r and r.Body and #r.Body>0 then return r.Body end end
  if http_request then local r=http_request({Url=u,Method="GET"}); if r and r.Body and #r.Body>0 then return r.Body end end
  if syn and syn.request then local r=syn.request({Url=u,Method="GET"}); if r and r.Body and #r.Body>0 then return r.Body end end
end

Tab:CreateButton({
  Name="GhostWare University Scripts",
  Callback=function()
    if not allowed(RAW) then Rayfield:Notify({Title="Blocked",Content="URL not allowed",Duration=3}); return end
    local s=httpget(RAW) or httpget(RAW.."?ts="..os.time())
    if not s then Rayfield:Notify({Title="Error",Content="Fetch failed",Duration=3}); return end
    local f=loadstring(s); if not f then Rayfield:Notify({Title="Error",Content="Compile failed",Duration=3}); return end
    local ok,e=pcall(f); if not ok then Rayfield:Notify({Title="Runtime Error",Content=tostring(e),Duration=3}); return end
    Rayfield:Notify({Title="Loaded",Content="GhostWare University Scripts executed",Duration=3})
  end
})
